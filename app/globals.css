@tailwind base;
@tailwind components;
@tailwind utilities;

/* ---------- shadcn tokens (HSL triplets) ---------- */
@layer base {
  :root {
    /* light theme */
    --background: 0 0% 100%;
    --foreground: 222.2 47.4% 11.2%;

    --card: 0 0% 100%;
    --card-foreground: 222.2 47.4% 11.2%;

    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;

    --primary: 217.2 91.2% 59.8%; /* ~#3b82f6 */
    --primary-foreground: 0 0% 100%;

    --secondary: 210 20% 96%;
    --secondary-foreground: 222.2 47.4% 11.2%;

    --muted: 210 20% 96%;
    --muted-foreground: 222 10% 38%; /* slightly darker for readability */

    --accent: 210 20% 96%;
    --accent-foreground: 222.2 47.4% 11.2%;

    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 0 0% 100%;

    --border: 220 13% 85%;   /* stronger than 91% */
    --input: 220 13% 90%;
    --ring: 217.2 91.2% 59.8%;

    --radius: 0.75rem;
  }

  .dark {
    /* dark theme */
    --background: 0 0% 3.9%;        /* ~#0a0a0a */
    --foreground: 0 0% 90%;         /* ~#e6e6e6 */

    --card: 0 0% 6.7%;              /* ~#111111 */
    --card-foreground: 0 0% 90%;

    --popover: 0 0% 6.7%;
    --popover-foreground: 0 0% 90%;

    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 0 0% 100%;

    --secondary: 0 0% 14%;
    --secondary-foreground: 0 0% 90%;

    --muted: 215 10% 64%;
    --muted-foreground: 215 10% 64%;

    --accent: 0 0% 14%;
    --accent-foreground: 0 0% 90%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --border: 0 0% 12%;
    --input: 0 0% 6.7%;
    --ring: 217.2 91.2% 59.8%;
  }

  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* ---------- Prose ---------- */
.prose {
  max-width: none;
}
.prose :where(h1,h2,h3,h4),
.prose :where(p,li,blockquote),
.prose :where(a) {
  color: hsl(var(--foreground));
}
.prose :where(a) {
  text-decoration: underline;
  text-underline-offset: 2px;
}
.prose :where(code):not(:where(pre code)) {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  padding: 0.1rem 0.35rem;
  border-radius: 0.375rem;
}
.prose pre {
  background: hsl(var(--card));
  border: 1px solid hsl(var(--border));
  color: hsl(var(--foreground));
  border-radius: var(--radius);
  padding: 1rem;
  overflow: auto;
}
.prose img {
  border-radius: var(--radius);
  border: 1px solid hsl(var(--border));
}
.prose hr {
  border-color: hsl(var(--border));
}
.prose-invert :where(p,li,blockquote,th,td) {
  color: hsl(var(--foreground));
}

/* autolinked headings */
.prose h2>a,
.prose h3>a,
.prose h4>a {
  color: inherit;
  text-decoration: none;
}
.prose h2>a:hover,
.prose h3>a:hover,
.prose h4>a:hover {
  text-decoration: underline;
  text-underline-offset: 3px;
}

/* card helper */
.cardish {
  box-shadow: 0 1px 0 hsl(var(--border)), 0 6px 24px rgba(0,0,0,.05);
}
.dark .cardish {
  box-shadow: 0 1px 0 hsl(var(--border));
}

/* monochrome logo */
.logo-mask {
  display: inline-block;
  width: 160px;
  height: 48px;
  background-color: currentColor;
  -webkit-mask: url("/logo.svg") no-repeat center / contain;
  mask: url("/logo.svg") no-repeat center / contain;
}

