@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
  }

  /* LIGHT (default) */
  :root {
    --background: 0 0% 98%; /* mild off-white */
    --foreground: 0 0% 12%; /* headings/UI */
    --muted: 0 0% 97%;
    --muted-foreground: 0 0% 40%; /* post body text */
    --card: 0 0% 100%;
    --card-foreground: 0 0% 12%;
    --popover: 0 0% 100%;
    --popover-foreground: 0 0% 12%;

    --border: 0 0% 88%; /* subtle but visible */
    --input: 0 0% 92%;
    --ring: 0 0% 12%;

    /* International Orange accent */
    --accent: 18 100% 48%; /* slightly softer in light */
    --accent-foreground: 0 0% 8%;

    --primary: var(--foreground);
    --primary-foreground: 0 0% 98%;
    --secondary: 0 0% 96%;
    --secondary-foreground: 0 0% 12%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --radius: 0.75rem;
  }

  /* DARK */
  .dark {
    --background: 0 0% 4%; /* soft black */
    --foreground: 0 0% 96%; /* bright headings/UI */
    --muted: 0 0% 8%;
    --muted-foreground: 0 0% 84%; /* comfy body text */
    --card: 0 0% 4%;
    --card-foreground: 0 0% 96%;
    --popover: 0 0% 6%;
    --popover-foreground: 0 0% 96%;

    --border: 0 0% 20%; /* clearer dividers */
    --input: 0 0% 14%;
    --ring: 0 0% 100%;

    --accent: 18 100% 56%; /* a touch brighter on dark */
    --accent-foreground: 0 0% 8%;

    --primary: var(--foreground);
    --primary-foreground: 0 0% 10%;
    --secondary: 0 0% 12%;
    --secondary-foreground: var(--foreground);
  }

  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground subpixel-antialiased;
  }
}

/* ---------- Components / Utilities ---------- */
@layer components {
  .post-prose {
    @apply prose max-w-2xl;

    /* Tailwind Typography color variables */
    --tw-prose-body: hsl(var(--muted-foreground)); /* paragraphs, lists */
    --tw-prose-headings: hsl(var(--foreground)); /* h1–h6 */
    --tw-prose-links: hsl(var(--accent)); /* <a> */
    --tw-prose-bold: hsl(var(--foreground));
    --tw-prose-quotes: hsl(var(--muted-foreground));
    --tw-prose-hr: hsl(var(--border));
    --tw-prose-code: hsl(var(--foreground));
    --tw-prose-th-borders: hsl(var(--border));
    --tw-prose-td-borders: hsl(var(--border));
  }

  .post-prose a {
    text-decoration: none;
    transition: color 0.15s ease;
  }
  .post-prose a:hover {
    text-decoration: underline;
    text-underline-offset: 3px;
  }

  .post-prose code:not(pre code) {
    @apply rounded-md px-1 py-0.5;
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
  }
  .post-prose pre {
    background: hsl(var(--card));
    border: 1px solid hsl(var(--border));
    color: hsl(var(--foreground));
    border-radius: var(--radius);
    padding: 1rem;
    overflow: auto;
  }

  .logo-mask {
    display: inline-block;
    width: 160px;
    height: 48px;
    background-color: currentColor;
    -webkit-mask: url("/logo.svg") no-repeat center / contain;
    mask: url("/logo.svg") no-repeat center / contain;
  }

  /* Post headings: thicker, not orange, with a bottom rule */
  .post-prose :where(h1, h2, h3, h4) {
    @apply font-extrabold tracking-tight;
    color: hsl(var(--foreground));
  }

  /* Bottom rule on section headings (tweak sizes to taste) */
  .post-prose h1 {
    border-bottom: 1px solid hsl(var(--border));
    padding-bottom: 0.35rem;
    margin-bottom: 0.9rem;
  }
  .post-prose h2 {
    border-bottom: 1px solid hsl(var(--border));
    padding-bottom: 0.3rem;
    margin-bottom: 0.8rem;
  }
  .post-prose h3,
  .post-prose h4 {
    border-bottom: 1px solid hsl(var(--border));
    padding-bottom: 0.25rem;
    margin-bottom: 0.7rem;
  }

  /* If a heading is wrapped in an <a>, keep it styled like a heading */
  .post-prose :where(h1, h2, h3, h4) :where(a) {
    color: inherit;
    text-decoration: none;
  }
  .post-prose :where(h1, h2, h3, h4) :where(a:hover) {
    text-decoration: none !important;
  }

  /* Optional: dim any autolink hash/icon inserted by plugins */
  .post-prose :where(h1, h2, h3, h4) :where(a[aria-hidden="true"]) {
    color: hsl(var(--border));
  }

  .v-badge {
    background-color: #ff4f00 !important;
  }
  .v-badge:hover {
    background-color: #ff4f00 !important;
  }
}

/* If you keep custom .prose rules, DO NOT force all text to foreground,
   or you’ll lose the off-white body color. Prefer .post-prose vars above. */
